{% extends 'global/pages/base.html' %}
{% load static %}

{% block head_title %} Gallery | {% endblock %}

{% block content %}
    <div class="C-modal center_flex_row">
        <div class="C-modal__c_image center_flex_row">
            <img src="{% static "global/images/profile.jpeg" %}" alt="" class="C-modal__image">
        </div>
        <span class="material-symbols-outlined C-modal__button">close</span>
    </div>
    <section class="C-gallery center_margin center_flex_row">
            {% for image in gallery %}
                <div class="C-gallery__c_image">
                    <img class="C-gallery__image" src="{{ image.image.url }}" alt="">
                    <h2>{{ image.title }}</h2>
                    <p>{{ image.description }}</p>
                </div>
            {% empty %}
                <div class="C-gallery__c_image">
                    <h2>no images found</h2>
                </div>
            {% endfor %}
    </section>
    <section class="C-paginator center_flex_row">
        {% if gallery.has_other_pages %}
            <div class="C-pages">
                <div class="C-pages__page center_flex_row">
                    {% if pagination_range.first_page_out_of_range %}
                        <a href="?page=1" class="C-pages__link_page">1</a>
                        <span class="C-pages__span">...</span>
                    {% endif %}

                    {% for page in pagination_range.pagination %}
                        {% if page == pagination_range.current_page %}
                            <a href="?page={{ page }}" class="C-pages__link_current_page">{{ page }}</a>
                        {% else %}
                            <a href="?page={{ page }}" class="C-pages__link_page">{{ page }}</a>
                        {% endif %}
                    {% endfor %}

                    {% if pagination_range.last_page_out_of_range %}
                        <span class="C-pages__span">...</span>
                        <a href="?page={{ pagination_range.total_pages }}" class="C-pages__link_page">{{ pagination_range.total_pages }}</a>
                    {% endif %}
                </div> 
            </div>
        {% endif %}
    </section>
{% endblock %}
